import{d as m,u as _,r as u,o as k,c as n,a as e,b as r,e as v,t as w,g as b,p as g,n as y,l as A,m as l,_ as C}from"./index-C-TZf3mn.js";const x={class:"auth-callback-container"},E={class:"auth-callback-card"},S={class:"auth-callback-content"},V={key:0,class:"loading-state"},B={key:1,class:"error-state"},L={key:2,class:"success-state"},N=m({__name:"AuthCallbackView",setup(T){const c=A();_();const{success:d,error:h}=y(),i=u(!0),t=u(null),f=async()=>{try{const{data:o,error:s}=await g.auth.getSession();if(s)throw s;if(o.session)d("Authentication successful! Welcome back.","Success"),setTimeout(()=>{c.push("/")},1500);else throw new Error("No session found")}catch(o){t.value=o.message||"Authentication failed",t.value&&(h(t.value||"An error occurred","Error"),c.push({name:"Login"}))}finally{i.value=!1}},p=()=>{c.push("/login")};return k(()=>{f()}),(o,s)=>{const a=v("font-awesome-icon");return l(),n("div",x,[e("div",E,[e("div",S,[i.value?(l(),n("div",V,[r(a,{icon:["fas","spinner"],class:"spinner"}),s[0]||(s[0]=e("h2",null,"Authenticating...",-1)),s[1]||(s[1]=e("p",null,"Please wait while we complete your authentication.",-1))])):t.value?(l(),n("div",B,[r(a,{icon:["fas","exclamation-triangle"],class:"error-icon"}),s[3]||(s[3]=e("h2",null,"Authentication Failed",-1)),e("p",null,w(t.value),1),e("button",{onClick:p,class:"retry-button"},[r(a,{icon:["fas","arrow-left"]}),s[2]||(s[2]=b(" Back to Login "))])])):(l(),n("div",L,[r(a,{icon:["fas","check-circle"],class:"success-icon"}),s[4]||(s[4]=e("h2",null,"Authentication Successful!",-1)),s[5]||(s[5]=e("p",null,"You will be redirected to the dashboard shortly.",-1))]))])])])}}}),F=C(N,[["__scopeId","data-v-250fce54"]]);export{F as default};

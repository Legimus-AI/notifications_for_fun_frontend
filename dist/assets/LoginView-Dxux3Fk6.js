import{d as V,u as E,s as C,r as m,o as B,c as g,a as s,b as l,e as N,w as T,f as w,g as p,h as b,v as D,i as t,j as P,t as h,k as y,l as W,m as r,n as q,_ as A}from"./index-C3Rphj7m.js";const I={class:"login-container"},R={class:"login-wrapper"},U={class:"login-card"},j={class:"login-header"},$={class:"logo"},z={class:"form-group"},F={for:"email",class:"form-label"},G={class:"input-wrapper"},H=["disabled"],J={key:0,class:"form-group"},K={for:"password",class:"form-label"},O={class:"input-wrapper"},Q=["type","disabled"],X=["disabled"],Y={key:1,class:"error-message"},Z=["disabled"],ss=V({__name:"LoginView",setup(es){const k=W(),d=E(),{success:f,error:S}=q(),{isLoading:i,error:v}=C(d),o=m({email:"",password:""}),c=m(!1),n=m(!1),x=async()=>{try{n.value?(await d.loginWithMagicLink(o.value.email),f("Magic link sent! Check your email.","Success")):(await d.loginWithPassword(o.value),f("Login successful! Welcome back.","Success"),k.push("/"))}catch(_){S(_.message||"Login failed","Error")}},L=()=>i.value?n.value?"Sending magic link...":"Signing in...":n.value?"Send Magic Link":"Sign In",M=()=>{o.value={email:"",password:""}};return B(()=>{d.clearError(),M()}),(_,e)=>{const a=N("font-awesome-icon");return r(),g("div",I,[s("div",R,[s("div",U,[s("div",j,[s("div",$,[l(a,{icon:["fas","comments"],class:"logo-icon"}),e[3]||(e[3]=s("h1",{class:"logo-text"},"Notifications",-1))]),e[4]||(e[4]=s("p",{class:"login-subtitle"},"Sign in to your account",-1))]),s("form",{onSubmit:T(x,["prevent"]),class:"login-form"},[s("div",z,[s("label",F,[l(a,{icon:["fas","user"],class:"label-icon"}),e[5]||(e[5]=p(" Email Address "))]),s("div",G,[b(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>o.value.email=u),type:"email",class:"form-input",placeholder:"Enter your email",required:"",disabled:t(i)},null,8,H),[[D,o.value.email]])])]),n.value?w("",!0):(r(),g("div",J,[s("label",K,[l(a,{icon:["fas","lock"],class:"label-icon"}),e[6]||(e[6]=p(" Password "))]),s("div",O,[b(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=u=>o.value.password=u),type:c.value?"text":"password",class:"form-input",placeholder:"Enter your password",required:"",disabled:t(i)},null,8,Q),[[P,o.value.password]]),s("button",{type:"button",class:"password-toggle",onClick:e[2]||(e[2]=u=>c.value=!c.value),disabled:t(i)},[l(a,{icon:c.value?["fas","eye-slash"]:["fas","eye"]},null,8,["icon"])],8,X)])])),t(v)?(r(),g("div",Y,[l(a,{icon:["fas","exclamation-triangle"]}),p(" "+h(t(v)),1)])):w("",!0),s("button",{type:"submit",class:"login-button",disabled:t(i)||!o.value.email||!n.value&&!o.value.password},[t(i)?(r(),y(a,{key:0,icon:["fas","spinner"],class:"spinning"})):(r(),y(a,{key:1,icon:["fas","sign-in-alt"]})),p(" "+h(L()),1)],8,Z)],32)])])])}}}),as=A(ss,[["__scopeId","data-v-72391c5d"]]);export{as as default};
